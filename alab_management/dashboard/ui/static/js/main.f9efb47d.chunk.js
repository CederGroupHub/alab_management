(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,n,t){"use strict";t.r(n);var a,c,s,i=t(0),r=t.n(i),l=t(25),j=t.n(l),o=t(15),d=t(12),b=t(40),x=t(18),p=t(41),h=t(182),O=t(98),u=t.n(O),m=t(99),g=t.n(m),v=t(177),f=t(178),y=t(171),k=t(169),N=t(172),w=t(168),S=t(181),C=t(173),M=t(17),I=t(96),R=t.n(I),F=t(95),L=t.n(F),T=t(32),_=t(1),A=["Heating","Moving","Weighting"],E={Weighting:{samples:["sample_1"],args:["Chemical Name","Amount"]},Heating:{samples:["sample_1","sample_2","sample_3","sample_4"],args:["setpoints"]},Moving:{samples:["sample"],args:["dest"]}},D=Object(M.a)(v.a)(a||(a=Object(o.a)(["\n    width: 256px;\n"]))),H=M.a.div(c||(c=Object(o.a)(["\n    padding: 0 12px 0 4px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: ",";\n"])),T.a[50]),z=M.a.div(s||(s=Object(o.a)(["\n    padding: 4px 16px 8px 16px;\n    display: flex;\n    flex-direction: column\n"])));var W,B,J=function(e){var n=e.data,t=Object(i.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)(!1),l=Object(d.a)(r,2),j=l[0],o=l[1],b=Object(i.useState)({}),x=Object(d.a)(b,2),h=x[0],O=x[1],u=n.sampleNames,m=function(e){O((function(n){var t=e.target.value.split("."),a=Object(d.a)(t,2),c=a[0],s=a[1];return n[c]=s,n}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p.a,{type:"target",position:"left",style:{borderRadius:"0"}}),Object(_.jsx)(p.a,{type:"source",position:"right",style:{borderRadius:"10px"}}),Object(_.jsxs)(D,{children:[Object(_.jsxs)(H,{children:[Object(_.jsx)(f.a,{onClick:function(){o(!j)},children:j?Object(_.jsx)(L.a,{}):Object(_.jsx)(R.a,{})}),Object(_.jsx)(y.a,{id:"demo-simple-select-label",children:Object(_.jsx)("h4",{children:"Task: "})}),Object(_.jsx)(k.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Task",variant:"standard",onChange:function(e){if(s(e.target.value),A.includes(e.target.value)){for(var n={},t=0;t<E[e.target.value].samples.length;t++)n[E[e.target.value].samples[t]]="";O(n)}else O({})},value:c,style:{marginLeft:"16px",flex:"1 0 0"},children:A.map((function(e){return Object(_.jsx)(N.a,{value:e,children:e},e)}))})]}),c&&!j&&Object(_.jsx)(w.a,{}),c&&!j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(z,{children:E[c].samples.map((function(e){return Object(_.jsxs)(S.a,{style:{margin:"8px 0"},children:[Object(_.jsx)(y.a,{id:e,children:e}),Object(_.jsx)(k.a,{labelId:e,id:"".concat(e,"-select"),label:e,size:"small",variant:"standard",onChange:m,value:h[e]?"".concat(e,".").concat(h[e]):h[e],style:{flex:"1 0 0",width:"200px"},children:u.map((function(n){return Object(_.jsx)(N.a,{value:"".concat(e,".").concat(n),children:n},"".concat(e,".").concat(n))}))})]},"".concat(e,"-form"))}))}),Object(_.jsx)(w.a,{}),Object(_.jsx)(z,{children:E[c].args.map((function(e){return Object(_.jsx)(C.a,{id:"outlined-required",variant:"standard",label:e},e)}))})]})]})]})},V=t(81),q=t(94),P=M.a.div(W||(W=Object(o.a)(["\n    height: calc(100vh - 60px - 36px - 32px - 1.2px);\n"]))),U=Object(M.a)(h.a)(B||(B=Object(o.a)(["\n  border-radius: 14px !important;\n"]))),G={task:J};var K,Q=function(e){var n=e.sampleNames,t=Object(i.useState)([{id:Object(V.a)(32),position:{x:50,y:100},type:"task",data:{sampleNames:n}}]),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)({}),l=Object(d.a)(r,2),j=(l[0],l[1]),o=Object(i.useRef)(50),h=Object(i.useCallback)((function(){o.current+=280,s((function(e){return[].concat(Object(x.a)(e),[{id:Object(V.a)(32),position:{x:o.current,y:100},type:"task",data:{sampleNames:n}}])}))}),[n]);return Object(i.useEffect)((function(){s((function(e){return e.map((function(e){return e.data=Object(b.a)(Object(b.a)({},e.data),{},{sampleNames:n}),console.log(e),e}))}))}),[n]),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{style:{padding:"16px",backgroundColor:q.a[100],borderBottom:"1.2px solid ".concat(q.a[300])},children:[Object(_.jsx)(U,{color:"primary",style:{margin:"0 8px"},variant:"contained",onClick:h,startIcon:Object(_.jsx)(u.a,{}),children:"Add Node"}),Object(_.jsx)(U,{color:"primary",style:{margin:"0 8px"},variant:"contained",startIcon:Object(_.jsx)(g.a,{}),children:"Submit"})]}),Object(_.jsx)(P,{children:Object(_.jsx)(p.c,{elements:c,onConnect:function(e){return s((function(n){return Object(p.b)(Object(b.a)({animated:!0},e),n)}))},onElementsRemove:function(e){return s((function(n){return Object(p.d)(e,n)}))},onSelectionChange:function(e){var n=null===e||void 0===e?void 0:e[0];j(n)},nodeTypes:G})})]})},X=t(176),Y=M.a.div(K||(K=Object(o.a)(["\n    display: flex;\n    align-items: baseline;\n    margin-bottom: 16px;\n"])));var Z=function(e){var n=e.style,t=e.sampleNames,a=e.setSampleNames,c=Object(i.useRef)(""),s=function(e){return function(){a((function(n){return n.filter((function(n){return n!==e}))}))}};return Object(_.jsxs)("div",{style:Object(b.a)(Object(b.a)({},n),{},{margin:"16px"}),children:[Object(_.jsxs)(Y,{children:[Object(_.jsx)(C.a,{id:"add_sample_input",size:"small",inputRef:c,style:{width:"50%"},label:"Sample Name",variant:"standard"}),Object(_.jsx)(h.a,{variant:"outlined",onClick:function(){a((function(e){return e.includes(c.current.value)?t:[].concat(Object(x.a)(t),[c.current.value])}))},style:{marginLeft:"16px"},children:"Add sample"})]}),Object(_.jsx)("h4",{children:"Samples:"}),t.map((function(e){return Object(_.jsx)(X.a,{style:{margin:"0 4px"},label:e,onDelete:s(e)},e)}))]})};var $,ee,ne,te=function(e){var n=e.sampleNames,t=e.setSampleNames;return Object(_.jsx)(Z,{sampleNames:n,setSampleNames:t})},ae=M.a.div($||($=Object(o.a)(["\n    display: flex;\n    height: calc(100vb-60px);\n"]))),ce=M.a.div(ee||(ee=Object(o.a)(["\n    background-color: ",";\n    width: 24%;\n    min-width: 320px;\n    max-width: 400px;\n    border-right: 1.2px solid ",";\n"])),q.a[100],q.a[300]),se=M.a.div(ne||(ne=Object(o.a)(["\n    flex: 1 0 0\n"])));var ie,re=function(){var e=Object(i.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1];return Object(_.jsxs)(ae,{children:[Object(_.jsx)(ce,{children:Object(_.jsx)(te,{sampleNames:t,setSampleNames:a})}),Object(_.jsx)(se,{children:Object(_.jsx)(Q,{sampleNames:t})})]})},le=t(184),je=t(188),oe=t(187),de=t(183),be=t(185),xe=t(186),pe=M.a.div(ie||(ie=Object(o.a)(["\n  margin: 12px 16px;\n\n  .status {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n    color: black;\n  }\n\n  .status-occupied {\n    color: red;\n  }\n\n  .status-idle {\n    color: green;\n  }\n  \n  .task-id {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n  }\n\n  h3 {\n    padding: 4px 8px;\n  }\n"])));var he,Oe=function(e){var n=e.devices;return Object(_.jsx)(de.a,{style:{height:"100%"},component:v.a,children:Object(_.jsxs)(pe,{children:[Object(_.jsx)("h3",{children:"Device View"}),Object(_.jsxs)(le.a,{stickyHeader:!0,"aria-label":"device table",children:[Object(_.jsx)(be.a,{children:Object(_.jsxs)(xe.a,{children:[Object(_.jsx)(oe.a,{children:Object(_.jsx)("b",{children:"Device Name"})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Type"})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Status"})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Task"})})]})}),Object(_.jsx)(je.a,{children:n.map((function(e){return Object(_.jsxs)(xe.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(_.jsx)(oe.a,{component:"th",scope:"row",children:e.name}),Object(_.jsx)(oe.a,{align:"center",children:e.type}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsxs)("span",{className:"status status-".concat(e.status.toLowerCase()),children:["OCCUPIED"===e.status||"IDLE"===e.status?"\u2b24":""," ",e.status]})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("span",{className:"task-id",children:e.task})})]},e.name)}))})]})]})})},ue=M.a.div(he||(he=Object(o.a)(["\n  margin: 12px 16px;\n\n  .status,\n  .task-id,\n  .task-type {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n    color: black;\n  }\n\n  .status-waiting {\n    color: blue;\n  }\n\n  .status-running {\n    color: red;\n  }\n\n  .status-error {\n    color: red;\n    font-weight: bold;\n  }\n\n  .status-ready {\n    color: green;\n  }\n\n  h3 {\n    padding: 4px 8px;\n  }\n"])));var me,ge,ve,fe=function(e){var n=e.tasks;return Object(_.jsx)(de.a,{style:{height:"100%"},component:v.a,children:Object(_.jsxs)(ue,{children:[Object(_.jsx)("h3",{children:"Task View"}),Object(_.jsxs)(le.a,{stickyHeader:!0,"aria-label":"task table",children:[Object(_.jsx)(be.a,{children:Object(_.jsxs)(xe.a,{children:[Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Task Id"})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Type"})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("b",{children:"Status"})})]})}),Object(_.jsx)(je.a,{children:n.map((function(e){return Object(_.jsxs)(xe.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(_.jsx)(oe.a,{align:"center",component:"th",scope:"row",children:Object(_.jsx)("span",{className:"task-id",children:e.id})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("span",{className:"task-type",children:e.type})}),Object(_.jsx)(oe.a,{align:"center",children:Object(_.jsx)("span",{className:"status status-".concat(e.status.toLowerCase()),children:e.status})})]},e.id)}))})]})]})})},ye=t(100),ke=t.n(ye),Ne=M.a.div(me||(me=Object(o.a)(["\n  margin: 12px 8px;\n  height: calc(100vh - 60px - 24px);\n  display: flex;\n\n"]))),we=M.a.div(ge||(ge=Object(o.a)(["\n  height: 100%;\n  width: calc(50vw - 20px);\n  margin-right: 12px;\n"]))),Se=M.a.div(ve||(ve=Object(o.a)(["\n  height: 100%;\n  width: calc(50vw - 8px);\n"])));var Ce,Me,Ie=function(){var e=Object(i.useState)({devices:[],tasks:[],experiements:[]}),n=Object(d.a)(e,2),t=n[0],a=n[1];return ke()((function(){fetch("/api/status").then((function(e){return e.json()})).then((function(e){a(e)}))}),1e3),Object(_.jsxs)(Ne,{children:[Object(_.jsx)(we,{children:Object(_.jsx)(Oe,{devices:t.devices})}),Object(_.jsx)(Se,{children:Object(_.jsx)(fe,{tasks:t.tasks})})]})},Re=t(189),Fe=t(55),Le=t(14),Te=Object(M.a)(Re.a)(Ce||(Ce=Object(o.a)(["\n  height: 60px !important;\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 14%),\n    0px 4px 5px 0px rgb(0 0 0 / 10%), 0px 1px 5px 0px rgb(0 0 0 / 6%) !important;\n  display: flex;\n  flex-direction: row !important;\n  align-items: center;\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  .nav-link {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 24px;\n    box-sizing: border-box;\n    filter: brightness(90%);\n    border-bottom: 4px solid transparent;\n  }\n\n  .nav-link: hover {\n    filter: brightness(85%);\n  }\n\n  .nav-link: active {\n    filter: brightness(75%);\n  }\n\n  .link-active {\n    text-shadow: .25px 0px .5px,\n    -.25px 0px .5px;  \n    border-bottom: 4px solid;\n    filter: brightness(100%) !important;\n  }\n"]))),_e=M.a.nav(Me||(Me=Object(o.a)(["\n  margin: 0 12px;\n  display: flex;\n  height: 100%;\n  align-items: center\n"])));var Ae=function(){return Object(_.jsxs)(Fe.a,{children:[Object(_.jsxs)(Te,{position:"relative",children:[Object(_.jsx)("div",{style:{display:"flex",alignItems:"center",fontWeight:500,fontSize:"1.3em",margin:"0 16px"},children:Object(_.jsx)(Fe.b,{to:"/",children:"Alab Management"})}),Object(_.jsxs)(_e,{children:[Object(_.jsx)(Fe.c,{to:"/",className:function(e){return e.isActive?"link-active nav-link":"nav-link"},children:"Home"}),Object(_.jsx)(Fe.c,{to:"/experiment",className:function(e){return e.isActive?"link-active nav-link":"nav-link"},children:"New Experiment"})]})]}),Object(_.jsxs)(Le.c,{children:[Object(_.jsx)(Le.a,{path:"/",element:Object(_.jsx)(Ie,{})}),Object(_.jsx)(Le.a,{path:"/experiment",element:Object(_.jsx)(re,{})})]})]})};j.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Ae,{})}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.f9efb47d.chunk.js.map