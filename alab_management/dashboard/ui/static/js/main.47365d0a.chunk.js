(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,n,t){"use strict";t.r(n);var a,c,s,i=t(0),r=t.n(i),l=t(25),j=t.n(l),o=t(15),d=t(12),b=t(40),x=t(18),p=t(41),O=t(185),u=t(99),h=t.n(u),m=t(100),g=t.n(m),v=t(180),f=t(181),y=t(173),k=t(171),N=t(174),S=t(170),w=t(184),C=t(175),M=t(17),R=t(97),F=t.n(R),I=t(96),E=t.n(I),L=t(32),T=t(1),_=["Heating","Moving","Weighting"],A={Weighting:{samples:["sample_1"],args:["Chemical Name","Amount"]},Heating:{samples:["sample_1","sample_2","sample_3","sample_4"],args:["setpoints"]},Moving:{samples:["sample"],args:["dest"]}},z=Object(M.a)(v.a)(a||(a=Object(o.a)(["\n    width: 256px;\n"]))),D=M.a.div(c||(c=Object(o.a)(["\n    padding: 0 12px 0 4px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: ",";\n"])),L.a[50]),H=M.a.div(s||(s=Object(o.a)(["\n    padding: 4px 16px 8px 16px;\n    display: flex;\n    flex-direction: column\n"])));var W,B,J=function(e){var n=e.data,t=Object(i.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)(!1),l=Object(d.a)(r,2),j=l[0],o=l[1],b=Object(i.useState)({}),x=Object(d.a)(b,2),O=x[0],u=x[1],h=n.sampleNames,m=function(e){u((function(n){var t=e.target.value.split("."),a=Object(d.a)(t,2),c=a[0],s=a[1];return n[c]=s,n}))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(p.a,{type:"target",position:"left",style:{borderRadius:"0"}}),Object(T.jsx)(p.a,{type:"source",position:"right",style:{borderRadius:"10px"}}),Object(T.jsxs)(z,{children:[Object(T.jsxs)(D,{children:[Object(T.jsx)(f.a,{onClick:function(){o(!j)},children:j?Object(T.jsx)(E.a,{}):Object(T.jsx)(F.a,{})}),Object(T.jsx)(y.a,{id:"demo-simple-select-label",children:Object(T.jsx)("h4",{children:"Task: "})}),Object(T.jsx)(k.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Task",variant:"standard",onChange:function(e){if(s(e.target.value),_.includes(e.target.value)){for(var n={},t=0;t<A[e.target.value].samples.length;t++)n[A[e.target.value].samples[t]]="";u(n)}else u({})},value:c,style:{marginLeft:"16px",flex:"1 0 0"},children:_.map((function(e){return Object(T.jsx)(N.a,{value:e,children:e},e)}))})]}),c&&!j&&Object(T.jsx)(S.a,{}),c&&!j&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(H,{children:A[c].samples.map((function(e){return Object(T.jsxs)(w.a,{style:{margin:"8px 0"},children:[Object(T.jsx)(y.a,{id:e,children:e}),Object(T.jsx)(k.a,{labelId:e,id:"".concat(e,"-select"),label:e,size:"small",variant:"standard",onChange:m,value:O[e]?"".concat(e,".").concat(O[e]):O[e],style:{flex:"1 0 0",width:"200px"},children:h.map((function(n){return Object(T.jsx)(N.a,{value:"".concat(e,".").concat(n),children:n},"".concat(e,".").concat(n))}))})]},"".concat(e,"-form"))}))}),Object(T.jsx)(S.a,{}),Object(T.jsx)(H,{children:A[c].args.map((function(e){return Object(T.jsx)(C.a,{id:"outlined-required",variant:"standard",label:e},e)}))})]})]})]})},q=t(82),P=t(95),U=M.a.div(W||(W=Object(o.a)(["\n    height: calc(100vh - 60px - 36px - 32px - 1.2px);\n"]))),V=Object(M.a)(O.a)(B||(B=Object(o.a)(["\n  border-radius: 14px !important;\n"]))),G={task:J};var K,Q=function(e){var n=e.sampleNames,t=Object(i.useState)([{id:Object(q.a)(32),position:{x:50,y:100},type:"task",data:{sampleNames:n}}]),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)({}),l=Object(d.a)(r,2),j=(l[0],l[1]),o=Object(i.useRef)(50),O=Object(i.useCallback)((function(){o.current+=280,s((function(e){return[].concat(Object(x.a)(e),[{id:Object(q.a)(32),position:{x:o.current,y:100},type:"task",data:{sampleNames:n}}])}))}),[n]);return Object(i.useEffect)((function(){s((function(e){return e.map((function(e){return e.data=Object(b.a)(Object(b.a)({},e.data),{},{sampleNames:n}),console.log(e),e}))}))}),[n]),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{style:{padding:"16px",backgroundColor:P.a[100],borderBottom:"1.2px solid ".concat(P.a[300])},children:[Object(T.jsx)(V,{color:"primary",style:{margin:"0 8px"},variant:"contained",onClick:O,startIcon:Object(T.jsx)(h.a,{}),children:"Add Node"}),Object(T.jsx)(V,{color:"primary",style:{margin:"0 8px"},variant:"contained",startIcon:Object(T.jsx)(g.a,{}),children:"Submit"})]}),Object(T.jsx)(U,{children:Object(T.jsx)(p.c,{elements:c,onConnect:function(e){return s((function(n){return Object(p.b)(Object(b.a)({animated:!0},e),n)}))},onElementsRemove:function(e){return s((function(n){return Object(p.d)(e,n)}))},onSelectionChange:function(e){var n=null===e||void 0===e?void 0:e[0];j(n)},nodeTypes:G})})]})},X=t(178),Y=M.a.div(K||(K=Object(o.a)(["\n    display: flex;\n    align-items: baseline;\n    margin-bottom: 16px;\n"])));var Z=function(e){var n=e.style,t=e.sampleNames,a=e.setSampleNames,c=Object(i.useRef)(""),s=function(e){return function(){a((function(n){return n.filter((function(n){return n!==e}))}))}};return Object(T.jsxs)("div",{style:Object(b.a)(Object(b.a)({},n),{},{margin:"16px"}),children:[Object(T.jsxs)(Y,{children:[Object(T.jsx)(C.a,{id:"add_sample_input",size:"small",inputRef:c,style:{width:"50%"},label:"Sample Name",variant:"standard"}),Object(T.jsx)(O.a,{variant:"outlined",onClick:function(){a((function(e){return e.includes(c.current.value)?t:[].concat(Object(x.a)(t),[c.current.value])}))},style:{marginLeft:"16px"},children:"Add sample"})]}),Object(T.jsx)("h4",{children:"Samples:"}),t.map((function(e){return Object(T.jsx)(X.a,{style:{margin:"0 4px"},label:e,onDelete:s(e)},e)}))]})};var $,ee,ne,te=function(e){var n=e.sampleNames,t=e.setSampleNames;return Object(T.jsx)(Z,{sampleNames:n,setSampleNames:t})},ae=M.a.div($||($=Object(o.a)(["\n    display: flex;\n    height: calc(100vb-60px);\n"]))),ce=M.a.div(ee||(ee=Object(o.a)(["\n    background-color: ",";\n    width: 24%;\n    min-width: 320px;\n    max-width: 400px;\n    border-right: 1.2px solid ",";\n"])),P.a[100],P.a[300]),se=M.a.div(ne||(ne=Object(o.a)(["\n    flex: 1 0 0\n"])));var ie,re=function(){var e=Object(i.useState)([]),n=Object(d.a)(e,2),t=n[0],a=n[1];return Object(T.jsxs)(ae,{children:[Object(T.jsx)(ce,{children:Object(T.jsx)(te,{sampleNames:t,setSampleNames:a})}),Object(T.jsx)(se,{children:Object(T.jsx)(Q,{sampleNames:t})})]})},le=t(187),je=t(191),oe=t(190),de=t(186),be=t(188),xe=t(189),pe=t(179),Oe=M.a.div(ie||(ie=Object(o.a)(["\n  margin: 12px 16px;\n\n  .status {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n    color: black;\n  }\n\n  .status-occupied {\n    color: red;\n  }\n\n  .status-idle {\n    color: green;\n  }\n  \n  .task-id {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n  }\n\n  h3 {\n    padding: 4px 8px;\n  }\n"])));var ue,he=function(e){var n=e.devices;return Object(T.jsx)(de.a,{style:{height:"100%"},component:v.a,children:Object(T.jsxs)(Oe,{children:[Object(T.jsx)(pe.a,{variant:"h5",children:"Device View"}),Object(T.jsxs)(le.a,{stickyHeader:!0,"aria-label":"device table",children:[Object(T.jsx)(be.a,{children:Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(oe.a,{children:Object(T.jsx)("b",{children:"Device Name"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Type"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Status"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Task"})})]})}),Object(T.jsx)(je.a,{children:n.map((function(e){return Object(T.jsxs)(xe.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(T.jsx)(oe.a,{component:"th",scope:"row",children:e.name}),Object(T.jsx)(oe.a,{align:"center",children:e.type}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsxs)("span",{className:"status status-".concat(e.status.toLowerCase()),children:["OCCUPIED"===e.status||"IDLE"===e.status?"\u2b24":""," ",e.status]})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("span",{className:"task-id",children:e.task})})]},e.name)}))})]})]})})},me=M.a.div(ue||(ue=Object(o.a)(["\n  margin: 12px 16px;\n\n  .status,\n  .task-id,\n  .task-type {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,\n      Menlo,Consolas,Liberation Mono,monospace;\n    color: black;\n  }\n\n  .task-id {\n    font-size: 60%;\n  }\n\n  .status-waiting {\n    color: blue;\n  }\n\n  .status-running {\n    color: red;\n  }\n\n  .status-error {\n    color: red;\n    font-weight: bold;\n  }\n\n  .status-ready {\n    color: green;\n  }\n\n  h3 {\n    padding: 4px 8px;\n  }\n"])));var ge,ve,fe,ye=function(e){var n=e.experiments;return console.log(n),Object(T.jsx)(de.a,{style:{height:"100%"},component:v.a,children:Object(T.jsxs)(me,{children:[Object(T.jsx)(pe.a,{variant:"h5",children:"Running Experiments"}),Object(T.jsxs)(le.a,{stickyHeader:!0,"aria-label":"task table",children:[Object(T.jsx)(be.a,{children:Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Exp Name"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Task Id"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Type"})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("b",{children:"Status"})})]})}),Object(T.jsx)(je.a,{children:n.map((function(e){var n;return null===(n=e.tasks)||void 0===n?void 0:n.map((function(n,t){return Object(T.jsxs)(xe.a,{children:[0===t?Object(T.jsx)(oe.a,{align:"center",rowSpan:e.tasks.length,component:"th",scope:"row",children:Object(T.jsx)("span",{className:"exp-name",children:e.name})}):Object(T.jsx)(T.Fragment,{}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("span",{className:"task-id",children:n.id})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("span",{className:"task-type",children:n.type})}),Object(T.jsx)(oe.a,{align:"center",children:Object(T.jsx)("span",{className:"status status-".concat(n.status.toLowerCase()),children:n.status})})]},n.id)}))}))})]})]})})},ke=t(101),Ne=t.n(ke),Se=M.a.div(ge||(ge=Object(o.a)(["\n  margin: 12px 8px;\n  height: calc(100vh - 60px - 24px);\n  display: flex;\n"]))),we=M.a.div(ve||(ve=Object(o.a)(["\n  height: 100%;\n  width: calc(50vw - 20px);\n  margin-right: 12px;\n"]))),Ce=M.a.div(fe||(fe=Object(o.a)(["\n  height: 100%;\n  width: calc(50vw - 8px);\n"])));var Me,Re,Fe=function(){var e=Object(i.useState)({devices:[],experiements:[]}),n=Object(d.a)(e,2),t=n[0],a=n[1];return Ne()((function(){fetch("/api/status").then((function(e){return e.json()})).then((function(e){a(e)}))}),1e3),Object(T.jsxs)(Se,{children:[Object(T.jsx)(we,{children:Object(T.jsx)(he,{devices:t.devices})}),Object(T.jsx)(Ce,{children:Object(T.jsx)(ye,{experiments:t.experiements})})]})},Ie=t(192),Ee=t(56),Le=t(14),Te=Object(M.a)(Ie.a)(Me||(Me=Object(o.a)(["\n  height: 60px !important;\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 14%),\n    0px 4px 5px 0px rgb(0 0 0 / 10%), 0px 1px 5px 0px rgb(0 0 0 / 6%) !important;\n  display: flex;\n  flex-direction: row !important;\n  align-items: center;\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  .nav-link {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 24px;\n    box-sizing: border-box;\n    filter: brightness(90%);\n    border-bottom: 4px solid transparent;\n  }\n\n  .nav-link: hover {\n    filter: brightness(85%);\n  }\n\n  .nav-link: active {\n    filter: brightness(75%);\n  }\n\n  .link-active {\n    text-shadow: .25px 0px .5px,\n    -.25px 0px .5px;  \n    border-bottom: 4px solid;\n    filter: brightness(100%) !important;\n  }\n"]))),_e=M.a.nav(Re||(Re=Object(o.a)(["\n  margin: 0 12px;\n  display: flex;\n  height: 100%;\n  align-items: center\n"])));var Ae=function(){return Object(T.jsxs)(Ee.a,{children:[Object(T.jsxs)(Te,{position:"relative",children:[Object(T.jsx)("div",{style:{display:"flex",alignItems:"center",fontWeight:500,fontSize:"1.3em",margin:"0 16px"},children:Object(T.jsx)(Ee.b,{to:"/",children:"Alab Management"})}),Object(T.jsxs)(_e,{children:[Object(T.jsx)(Ee.c,{to:"/",className:function(e){return e.isActive?"link-active nav-link":"nav-link"},children:"Home"}),Object(T.jsx)(Ee.c,{to:"/experiment",className:function(e){return e.isActive?"link-active nav-link":"nav-link"},children:"New Experiment"})]})]}),Object(T.jsxs)(Le.c,{children:[Object(T.jsx)(Le.a,{path:"/",element:Object(T.jsx)(Fe,{})}),Object(T.jsx)(Le.a,{path:"/experiment",element:Object(T.jsx)(re,{})})]})]})};j.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Ae,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.47365d0a.chunk.js.map